<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Paciente</title>
</head>
<body>
    <h1>Editar Paciente</h1>

    <!-- Mostrar mensajes flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul>
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <form method="post">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" value="{{ paciente.nombre }}" required><br>

        <label for="paterno">Apellido Paterno:</label>
        <input type="text" id="paterno" name="paterno" value="{{ paciente.paterno }}"><br>

        <label for="materno">Apellido Materno:</label>
        <input type="text" id="materno" name="materno" value="{{ paciente.materno }}"><br>

        <label for="ci">Cédula de Identidad:</label>
        <input type="text" id="ci" name="ci" value="{{ paciente.ci }}"><br>

        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" value="{{ paciente.fecha_nacimiento }}" required><br>

        <label for="direccion">Dirección:</label>
        <textarea id="direccion" name="direccion">{{ paciente.direccion }}</textarea><br>

        <label for="telefono">Teléfono:</label>
        <input type="text" id="telefono" name="telefono" value="{{ paciente.telefono }}"><br>

        <label for="celular">Celular:</label>
        <input type="text" id="celular" name="celular" value="{{ paciente.celular }}"><br>

        <label for="estado_civil">Estado Civil:</label>
        <input type="text" id="estado_civil" name="estado_civil" value="{{ paciente.estado_civil }}"><br>

        <label for="ocupacion">Ocupación:</label>
        <input type="text" id="ocupacion" name="ocupacion" value="{{ paciente.ocupacion }}"><br>

        <!-- Mostrar el nombre del doctor asociado al paciente (solo información, no editable) -->
        <p><strong>Doctor:</strong> {{ paciente.doctor.nombre }} {{ paciente.doctor.paterno }} {{ paciente.doctor.materno }}</p>

        <button type="submit">Actualizar</button>
    </form>

    <a href="{{ url_for('main.paciente_detail', paciente_id=paciente.paciente_id) }}">Cancelar</a>
</body>
</html>
