{% extends 'base.html' %}

{% block title %}Editar Ficha Dental{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-4 text-primary">Editar Ficha Dental</h1>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <form method="POST" action="{{ url_for('main.editar_ficha', ficha_id=ficha.ficha_id) }}">
                <div class="form-group">
                    <label for="fecha">Fecha</label>
                    <input type="date" id="fecha" name="fecha" class="form-control" value="{{ ficha.fecha.strftime('%Y-%m-%d') }}" required>
                </div>

                <div class="form-group">
                    <label for="pieza_dental">Pieza Dental</label>
                    <input type="text" id="pieza_dental" name="pieza_dental" class="form-control" value="{{ ficha.pieza_dental }}">
                </div>

                <div class="form-group">
                    <label for="diagnostico">Diagn√≥stico</label>
                    <textarea id="diagnostico" name="diagnostico" class="form-control" rows="3">{{ ficha.diagnostico }}</textarea>
                </div>

                <div class="form-group">
                    <label for="tratamiento">Tratamiento</label>
                    <textarea id="tratamiento" name="tratamiento" class="form-control" rows="3">{{ ficha.tratamiento }}</textarea>
                </div>

                <div class="form-group">
                    <label for="costo">Costo</label>
                    <input type="number" id="costo" name="costo" class="form-control" value="{{ ficha.costo }}" step="0.01">
                </div>

                <div class="form-group">
                    <label for="al_contado">Al Contado</label>
                    <input type="number" id="al_contado" name="al_contado" class="form-control" value="{{ ficha.al_contado }}" step="0.01">
                </div>

                <div class="form-group">
                    <label for="saldo">Saldo</label>
                    <input type="number" id="saldo" name="saldo" class="form-control" value="{{ ficha.saldo }}" step="0.01">
                </div>

                <div class="form-group">
                    <label for="observaciones">Observaciones</label>
                    <textarea id="observaciones" name="observaciones" class="form-control" rows="3">{{ ficha.observaciones }}</textarea>
                </div>

                <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                <a href="{{ url_for('main.listar_fichas', paciente_id=ficha.paciente_id) }}" class="btn btn-secondary">Volver a Fichas</a>
            </form>
        </div>
    </div>
</div>
{% endblock %}
