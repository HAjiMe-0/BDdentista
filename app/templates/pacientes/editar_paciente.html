{% extends 'base.html' %}

{% block title %}Editar Paciente{% endblock %}

{% block content %}
<div class="container py-4">
    <div style="background-color: #4c9b9b; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; padding: 2rem;">
        <h2 style="color: #ffffff; margin: 0; font-size: 1.75rem; text-align: center; font-weight: normal;">EDITAR PACIENTE</h2>
    </div>
    <div style="background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; padding: 2rem;">
        
        <form method="post">
            <!-- Information Section -->
            <div style="margin-bottom: 2rem;">
                <h4 style="color: #68c3b7; font-size: 1rem; margin-bottom: 1.5rem;">Información del Paciente</h4>
                
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="nombre" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" class="form-control" value="{{ paciente.nombre }}" 
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;" required>
                    </div>
            
                    <div class="col-md-6">
                        <label for="paterno" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Apellido Paterno:</label>
                        <input type="text" id="paterno" name="paterno" class="form-control" value="{{ paciente.paterno }}"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                    </div>
            
                    <div class="col-md-6">
                        <label for="materno" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Apellido Materno:</label>
                        <input type="text" id="materno" name="materno" class="form-control" value="{{ paciente.materno }}"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                    </div>
            
                    <div class="col-md-6">
                        <label for="ci" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Cédula de Identidad:</label>
                        <input type="text" id="ci" name="ci" class="form-control" value="{{ paciente.ci }}"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                    </div>
            
                    <div class="col-md-6">
                        <label for="fecha_nacimiento" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Fecha de Nacimiento:</label>
                        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" class="form-control" value="{{ paciente.fecha_nacimiento.strftime('%Y-%m-%d') if paciente.fecha_nacimiento else '' }}" 
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;"required>
                    </div>
            
                    <div class="col-12">
                        <label for="direccion" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Dirección:</label>
                        <textarea id="direccion" name="direccion" class="form-control"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">{{ paciente.direccion }}</textarea>
                    </div>
            
                    <div class="col-md-6">
                        <label for="telefono" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Teléfono:</label>
                        <input type="text" id="telefono" name="telefono" class="form-control" value="{{ paciente.telefono }}"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                    </div>
            
                    <div class="col-md-6">
                        <label for="celular" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Celular:</label>
                        <input type="text" id="celular" name="celular" class="form-control" value="{{ paciente.celular }}"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                    </div>
            
                    <div class="col-md-6">
                        <label for="estado_civil" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Estado Civil:</label>
                        <select id="estado_civil" name="estado_civil" class="form-select form-select-lg"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                            <option value="" selected>Seleccione</option>
                            <option value="Soltero/a">Soltero/a</option>
                            <option value="Casado/a">Casado/a</option>
                            <option value="Divorciado/a">Divorciado/a</option>
                            <option value="Viudo/a">Viudo/a</option>
                        </select>
                    </div>
            
                    <div class="col-md-6">
                        <label for="ocupacion" class="form-label" style="color: #539091; font-size: 0.9rem; margin-bottom: 0.5rem;">Ocupación:</label>
                        <input type="text" id="ocupacion" name="ocupacion" class="form-control" value="{{ paciente.ocupacion }}"
                        style="border: 1px solid #a8dcd9; border-radius: 4px; padding: 0.5rem; width: 100%;">
                    </div>
            
                    <!-- Mostrar el nombre del doctor asociado al paciente (solo información, no editable) -->
                    <div class="mb-3">
                        <p><strong>Doctor:</strong> {{ paciente.doctor.nombre }} {{ paciente.doctor.paterno }} {{ paciente.doctor.materno }}</p>
                    </div>
            

            <!-- Buttons Section -->
            <div style="display: flex; justify-content: space-between; margin-top: 2rem;">
                <button type="button" onclick="history.back()" 
                    style="background-color: #cceae8; border: none; border-radius: 4px; color: #539091; padding: 0.5rem 2rem; cursor: pointer;">
                    Volver
                </button>
                <button type="submit"
                    style="background-color: #68c3b7; border: none; border-radius: 4px; color: white; padding: 0.5rem 2rem; cursor: pointer;">
                    Guardar Cambios
                </button>
            </div>

        </form>
    </div>
</div>

<style>
    :root{
        --color-teal: #68c3b7;
        --color-white: #ffffff;
        --color-dark-teal: #539091;
        --background-image: url("/static/img/fondo_dental7.jpg");
    }
    body{
        background-image: var(--background-image);
    }

    .container {
        margin-top: 2rem;
    }

    /* Additional Custom Styles */
    input:focus, textarea:focus {
        outline: none;
        border-color: #68c3b7 !important;
        box-shadow: 0 0 0 2px rgba(104, 195, 183, 0.2) !important;
    }

    button:hover {
        opacity: 0.9;
        transform: translateY(-1px);
        transition: all 0.2s;
    }
</style>
{% endblock %}